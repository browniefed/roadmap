
var roadmaps = JSON.parse(localStorage.getItem('roadmaps')) || {};
var Proxy = {
    deleteRoadmap: function(roadmapId) {
        delete roadmaps[roadmapId];
        this.persistRoadmap()
    },
    getRoadmap: function(roadmapId) {
        return roadmaps[roadmapId];
    },
    saveRoadmap: function(roadmapId, data) {
        roadmaps[roadmapId] = data;
        this.persistRoadmap();
    },
    createRoadmap: function(data) {
        var id = Object.keys(roadmaps).length + 1;
        this.saveRoadmap(id, data);
        return id;
    },
    getRoadmaps: function() {
        return roadmaps;
    },
    persistRoadmap: function() {
        localStorage.setItem('roadmaps', JSON.stringify(roadmaps));
    }
}

module.exports = Proxy;